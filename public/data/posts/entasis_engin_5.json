{
  "id": "entasis_engin_5",
  "title": "Entasis Engine - ë°ì´í„°ë² ì´ìŠ¤ ì„¤ê³„",
  "content": "\r\n# ê¸ˆìœµ ë°ì´í„° ë¶„ì„ ì‹œìŠ¤í…œ ë°ì´í„°ë² ì´ìŠ¤ ì„¤ê³„\r\n\r\n## ğŸ“Š ë°ì´í„°ë² ì´ìŠ¤ ì•„í‚¤í…ì²˜\r\n\r\n### 1. ë°ì´í„°ë² ì´ìŠ¤ ì„ ì • ì´ìœ \r\n\r\n- **PostgreSQL**: ì•ˆì •ì„±ê³¼ í™•ì¥ì„±ì´ ê²€ì¦ëœ RDBMS\r\n- **TimescaleDB**: ì‹œê³„ì—´ ë°ì´í„° ì²˜ë¦¬ì— ìµœì í™”ëœ í™•ì¥\r\n- **íŒŒí‹°ì…”ë‹**: ëŒ€ìš©ëŸ‰ ë°ì´í„°ì˜ íš¨ìœ¨ì  ê´€ë¦¬\r\n\r\n### 2. í•µì‹¬ í…Œì´ë¸” êµ¬ì¡°\r\n\r\n#### 2.1 Market Data Tables\r\n\r\n```sql\r\n-- ì‹¤ì‹œê°„ ì‹œì¥ ë°ì´í„°\r\nCREATE TABLE market_data (\r\n    id BIGSERIAL PRIMARY KEY,\r\n    symbol VARCHAR(20) NOT NULL,\r\n    exchange VARCHAR(20) NOT NULL,\r\n    timestamp TIMESTAMPTZ NOT NULL,\r\n    price DECIMAL(20,8) NOT NULL,\r\n    volume DECIMAL(20,8) NOT NULL,\r\n    created_at TIMESTAMPTZ DEFAULT CURRENT_TIMESTAMP\r\n) PARTITION BY RANGE (timestamp);\r\n\r\n-- ì˜µì…˜ ë°ì´í„°\r\nCREATE TABLE option_data (\r\n    id BIGSERIAL PRIMARY KEY,\r\n    underlying VARCHAR(20) NOT NULL,\r\n    strike_price DECIMAL(20,8) NOT NULL,\r\n    expiry_date TIMESTAMPTZ NOT NULL,\r\n    option_type VARCHAR(4) NOT NULL,\r\n    iv DECIMAL(10,4),\r\n    delta DECIMAL(10,4),\r\n    gamma DECIMAL(10,4),\r\n    theta DECIMAL(10,4),\r\n    vega DECIMAL(10,4),\r\n    timestamp TIMESTAMPTZ NOT NULL\r\n) PARTITION BY RANGE (timestamp);\r\n```\r\n\r\n#### 2.2 ë¶„ì„ ë°ì´í„° í…Œì´ë¸”\r\n\r\n```sql\r\n-- AI ëª¨ë¸ ì˜ˆì¸¡ ê²°ê³¼\r\nCREATE TABLE predictions (\r\n    id BIGSERIAL PRIMARY KEY,\r\n    model_id VARCHAR(50) NOT NULL,\r\n    symbol VARCHAR(20) NOT NULL,\r\n    prediction_type VARCHAR(20) NOT NULL,\r\n    predicted_value DECIMAL(20,8) NOT NULL,\r\n    confidence DECIMAL(5,4) NOT NULL,\r\n    timestamp TIMESTAMPTZ NOT NULL\r\n);\r\n\r\n-- í¬íŠ¸í´ë¦¬ì˜¤ ìƒíƒœ\r\nCREATE TABLE portfolio_status (\r\n    id BIGSERIAL PRIMARY KEY,\r\n    user_id UUID NOT NULL,\r\n    asset_type VARCHAR(20) NOT NULL,\r\n    position_size DECIMAL(20,8) NOT NULL,\r\n    entry_price DECIMAL(20,8) NOT NULL,\r\n    current_price DECIMAL(20,8) NOT NULL,\r\n    pnl DECIMAL(20,8) NOT NULL,\r\n    timestamp TIMESTAMPTZ NOT NULL\r\n);\r\n```\r\n\r\n### 3. ì¸ë±ì‹± ì „ëµ\r\n\r\n#### 3.1 ì‹œì¥ ë°ì´í„° ì¸ë±ìŠ¤\r\n\r\n```sql\r\n-- ì‹œì¥ ë°ì´í„° ì¡°íšŒ ìµœì í™”\r\nCREATE INDEX idx_market_data_symbol_timestamp ON market_data (symbol, timestamp DESC);\r\nCREATE INDEX idx_market_data_exchange_timestamp ON market_data (exchange, timestamp DESC);\r\n\r\n-- ì˜µì…˜ ë°ì´í„° ì¡°íšŒ ìµœì í™”\r\nCREATE INDEX idx_option_data_underlying_expiry ON option_data (underlying, expiry_date);\r\nCREATE INDEX idx_option_data_strike_type ON option_data (strike_price, option_type);\r\n```\r\n\r\n#### 3.2 ë¶„ì„ ë°ì´í„° ì¸ë±ìŠ¤\r\n\r\n```sql\r\n-- ì˜ˆì¸¡ ë°ì´í„° ì¡°íšŒ ìµœì í™”\r\nCREATE INDEX idx_predictions_model_symbol ON predictions (model_id, symbol);\r\nCREATE INDEX idx_predictions_timestamp ON predictions (timestamp DESC);\r\n\r\n-- í¬íŠ¸í´ë¦¬ì˜¤ ì¡°íšŒ ìµœì í™”\r\nCREATE INDEX idx_portfolio_user_timestamp ON portfolio_status (user_id, timestamp DESC);\r\n```\r\n\r\n### 4. íŒŒí‹°ì…”ë‹ ì „ëµ\r\n\r\n#### 4.1 ì‹œê³„ì—´ ë°ì´í„° íŒŒí‹°ì…”ë‹\r\n\r\n```sql\r\n-- ì›”ë³„ íŒŒí‹°ì…˜ ìƒì„±\r\nCREATE TABLE market_data_y2024m01 PARTITION OF market_data\r\n    FOR VALUES FROM ('2024-01-01') TO ('2024-02-01');\r\nCREATE TABLE market_data_y2024m02 PARTITION OF market_data\r\n    FOR VALUES FROM ('2024-02-01') TO ('2024-03-01');\r\n```\r\n\r\n#### 4.2 ë³´ê´€ ì •ì±…\r\n\r\n- ì‹¤ì‹œê°„ ë°ì´í„°: ìµœê·¼ 3ê°œì›”\r\n- ì§‘ê³„ ë°ì´í„°: ìµœê·¼ 1ë…„\r\n- íˆìŠ¤í† ë¦¬ ë°ì´í„°: S3 ì•„ì¹´ì´ë¸Œ\r\n\r\n## ğŸ“ˆ ì„±ëŠ¥ ìµœì í™”\r\n\r\n### 1. ì¿¼ë¦¬ ìµœì í™”\r\n\r\n#### 1.1 ìì£¼ ì‚¬ìš©ë˜ëŠ” ì¿¼ë¦¬\r\n\r\n```sql\r\n-- íŠ¹ì • ê¸°ê°„ì˜ OHLCV ë°ì´í„° ì¡°íšŒ\r\nCREATE MATERIALIZED VIEW mv_ohlcv_1h AS\r\nSELECT\r\n    symbol,\r\n    date_trunc('hour', timestamp) as timeframe,\r\n    first(price) as open,\r\n    max(price) as high,\r\n    min(price) as low,\r\n    last(price) as close,\r\n    sum(volume) as volume\r\nFROM market_data\r\nGROUP BY symbol, timeframe;\r\n```\r\n\r\n#### 1.2 ìºì‹± ì „ëµ\r\n\r\n- Redis ìºì‹± ë ˆì´ì–´ êµ¬í˜„\r\n- ì‹¤ì‹œê°„ ë°ì´í„° ë©”ëª¨ë¦¬ ìºì‹±\r\n- ì§‘ê³„ ë°ì´í„° ìºì‹œ ê°±ì‹  ì£¼ê¸° ì„¤ì •\r\n\r\n### 2. ë°±ì—… ì „ëµ\r\n\r\n#### 2.1 ì •ê¸° ë°±ì—…\r\n\r\n- ì¼ì¼ ì¦ë¶„ ë°±ì—…\r\n- ì£¼ê°„ ì „ì²´ ë°±ì—…\r\n- ì›”ê°„ ì•„ì¹´ì´ë¸Œ\r\n\r\n#### 2.2 ë³µêµ¬ ê³„íš\r\n\r\n- Point-in-Time Recovery ì„¤ì •\r\n- ì¥ì•  ë³µêµ¬ ì‹œë‚˜ë¦¬ì˜¤ ë¬¸ì„œí™”\r\n- ë³µêµ¬ í…ŒìŠ¤íŠ¸ ê³„íš\r\n\r\n## ğŸ”„ ë°ì´í„° íë¦„\r\n\r\n### 1. ë°ì´í„° ìˆ˜ì§‘\r\n\r\n```mermaid\r\ngraph LR\r\n    A[ê±°ë˜ì†Œ API] --> B[ë°ì´í„° ìˆ˜ì§‘ê¸°]\r\n    B --> C[ë°ì´í„° ì •ì œ]\r\n    C --> D[TimescaleDB]\r\n    D --> E[ë¶„ì„ ì—”ì§„]\r\n```\r\n\r\n### 2. ë°ì´í„° ì²˜ë¦¬\r\n\r\n- ì‹¤ì‹œê°„ ìŠ¤íŠ¸ë¦¼ ì²˜ë¦¬\r\n- ë°°ì¹˜ ì²˜ë¦¬\r\n- ì´ìƒì¹˜ íƒì§€ ë° ì²˜ë¦¬\r\n\r\n## âš¡ í™•ì¥ì„± ê³ ë ¤ì‚¬í•­\r\n\r\n### 1. ìˆ˜í‰ì  í™•ì¥\r\n\r\n- ì½ê¸° ì „ìš© ë³µì œë³¸ êµ¬ì„±\r\n- ìƒ¤ë”© ì „ëµ ìˆ˜ë¦½\r\n- ë¡œë“œ ë°¸ëŸ°ì‹± ì„¤ì •\r\n\r\n### 2. ìˆ˜ì§ì  í™•ì¥\r\n\r\n- ë¦¬ì†ŒìŠ¤ ëª¨ë‹ˆí„°ë§\r\n- ì„±ëŠ¥ ì§€í‘œ ì„¤ì •\r\n- ìŠ¤ì¼€ì¼ ì—… ì„ê³„ê°’ ì •ì˜\r\n\r\nì´ ë¬¸ì„œëŠ” ê¸ˆìœµ ë°ì´í„° ë¶„ì„ ì‹œìŠ¤í…œì˜ ë°ì´í„°ë² ì´ìŠ¤ ì„¤ê³„ ê¸°ì¤€ì„ ì œê³µí•©ë‹ˆë‹¤. ì‹œìŠ¤í…œì˜ ìš”êµ¬ì‚¬í•­ê³¼ ì„±ëŠ¥ì„ ê³ ë ¤í•˜ì—¬ ì§€ì†ì ìœ¼ë¡œ ì—…ë°ì´íŠ¸ë  ì˜ˆì •ì…ë‹ˆë‹¤. ğŸš€\r\n",
  "date": "2025-02-12",
  "category": "projects",
  "tags": [
    "database",
    "schema",
    "postgresql",
    "timescaledb",
    "erd",
    "indexing",
    "partitioning"
  ],
  "thumbnail": "",
  "translations": {
    "ko": {
      "title": "Entasis Engine - ë°ì´í„°ë² ì´ìŠ¤ ì„¤ê³„",
      "description": "ê°€ìƒìì‚° ë°ì´í„° ë¶„ì„ ì‹œìŠ¤í…œì˜ ë°ì´í„°ë² ì´ìŠ¤ ìŠ¤í‚¤ë§ˆ ë° ì„¤ê³„ ë¬¸ì„œ",
      "content": "<h1 id=\"heading-0\">ê¸ˆìœµ ë°ì´í„° ë¶„ì„ ì‹œìŠ¤í…œ ë°ì´í„°ë² ì´ìŠ¤ ì„¤ê³„</h1>\n<h2 id=\"heading-1\">ğŸ“Š ë°ì´í„°ë² ì´ìŠ¤ ì•„í‚¤í…ì²˜</h2>\n<h3 id=\"heading-2\">1. ë°ì´í„°ë² ì´ìŠ¤ ì„ ì • ì´ìœ </h3>\n<ul>\n<li><strong>PostgreSQL</strong>: ì•ˆì •ì„±ê³¼ í™•ì¥ì„±ì´ ê²€ì¦ëœ RDBMS</li>\n<li><strong>TimescaleDB</strong>: ì‹œê³„ì—´ ë°ì´í„° ì²˜ë¦¬ì— ìµœì í™”ëœ í™•ì¥</li>\n<li><strong>íŒŒí‹°ì…”ë‹</strong>: ëŒ€ìš©ëŸ‰ ë°ì´í„°ì˜ íš¨ìœ¨ì  ê´€ë¦¬</li>\n</ul>\n<h3 id=\"heading-3\">2. í•µì‹¬ í…Œì´ë¸” êµ¬ì¡°</h3>\n<h4 id=\"heading-4\">2.1 Market Data Tables</h4>\n<pre><code class=\"language-sql\">-- ì‹¤ì‹œê°„ ì‹œì¥ ë°ì´í„°\nCREATE TABLE market_data (\n    id BIGSERIAL PRIMARY KEY,\n    symbol VARCHAR(20) NOT NULL,\n    exchange VARCHAR(20) NOT NULL,\n    timestamp TIMESTAMPTZ NOT NULL,\n    price DECIMAL(20,8) NOT NULL,\n    volume DECIMAL(20,8) NOT NULL,\n    created_at TIMESTAMPTZ DEFAULT CURRENT_TIMESTAMP\n) PARTITION BY RANGE (timestamp);\n\n-- ì˜µì…˜ ë°ì´í„°\nCREATE TABLE option_data (\n    id BIGSERIAL PRIMARY KEY,\n    underlying VARCHAR(20) NOT NULL,\n    strike_price DECIMAL(20,8) NOT NULL,\n    expiry_date TIMESTAMPTZ NOT NULL,\n    option_type VARCHAR(4) NOT NULL,\n    iv DECIMAL(10,4),\n    delta DECIMAL(10,4),\n    gamma DECIMAL(10,4),\n    theta DECIMAL(10,4),\n    vega DECIMAL(10,4),\n    timestamp TIMESTAMPTZ NOT NULL\n) PARTITION BY RANGE (timestamp);\n</code></pre>\n<h4 id=\"heading-5\">2.2 ë¶„ì„ ë°ì´í„° í…Œì´ë¸”</h4>\n<pre><code class=\"language-sql\">-- AI ëª¨ë¸ ì˜ˆì¸¡ ê²°ê³¼\nCREATE TABLE predictions (\n    id BIGSERIAL PRIMARY KEY,\n    model_id VARCHAR(50) NOT NULL,\n    symbol VARCHAR(20) NOT NULL,\n    prediction_type VARCHAR(20) NOT NULL,\n    predicted_value DECIMAL(20,8) NOT NULL,\n    confidence DECIMAL(5,4) NOT NULL,\n    timestamp TIMESTAMPTZ NOT NULL\n);\n\n-- í¬íŠ¸í´ë¦¬ì˜¤ ìƒíƒœ\nCREATE TABLE portfolio_status (\n    id BIGSERIAL PRIMARY KEY,\n    user_id UUID NOT NULL,\n    asset_type VARCHAR(20) NOT NULL,\n    position_size DECIMAL(20,8) NOT NULL,\n    entry_price DECIMAL(20,8) NOT NULL,\n    current_price DECIMAL(20,8) NOT NULL,\n    pnl DECIMAL(20,8) NOT NULL,\n    timestamp TIMESTAMPTZ NOT NULL\n);\n</code></pre>\n<h3 id=\"heading-6\">3. ì¸ë±ì‹± ì „ëµ</h3>\n<h4 id=\"heading-7\">3.1 ì‹œì¥ ë°ì´í„° ì¸ë±ìŠ¤</h4>\n<pre><code class=\"language-sql\">-- ì‹œì¥ ë°ì´í„° ì¡°íšŒ ìµœì í™”\nCREATE INDEX idx_market_data_symbol_timestamp ON market_data (symbol, timestamp DESC);\nCREATE INDEX idx_market_data_exchange_timestamp ON market_data (exchange, timestamp DESC);\n\n-- ì˜µì…˜ ë°ì´í„° ì¡°íšŒ ìµœì í™”\nCREATE INDEX idx_option_data_underlying_expiry ON option_data (underlying, expiry_date);\nCREATE INDEX idx_option_data_strike_type ON option_data (strike_price, option_type);\n</code></pre>\n<h4 id=\"heading-8\">3.2 ë¶„ì„ ë°ì´í„° ì¸ë±ìŠ¤</h4>\n<pre><code class=\"language-sql\">-- ì˜ˆì¸¡ ë°ì´í„° ì¡°íšŒ ìµœì í™”\nCREATE INDEX idx_predictions_model_symbol ON predictions (model_id, symbol);\nCREATE INDEX idx_predictions_timestamp ON predictions (timestamp DESC);\n\n-- í¬íŠ¸í´ë¦¬ì˜¤ ì¡°íšŒ ìµœì í™”\nCREATE INDEX idx_portfolio_user_timestamp ON portfolio_status (user_id, timestamp DESC);\n</code></pre>\n<h3 id=\"heading-9\">4. íŒŒí‹°ì…”ë‹ ì „ëµ</h3>\n<h4 id=\"heading-10\">4.1 ì‹œê³„ì—´ ë°ì´í„° íŒŒí‹°ì…”ë‹</h4>\n<pre><code class=\"language-sql\">-- ì›”ë³„ íŒŒí‹°ì…˜ ìƒì„±\nCREATE TABLE market_data_y2024m01 PARTITION OF market_data\n    FOR VALUES FROM ('2024-01-01') TO ('2024-02-01');\nCREATE TABLE market_data_y2024m02 PARTITION OF market_data\n    FOR VALUES FROM ('2024-02-01') TO ('2024-03-01');\n</code></pre>\n<h4 id=\"heading-11\">4.2 ë³´ê´€ ì •ì±…</h4>\n<ul>\n<li>ì‹¤ì‹œê°„ ë°ì´í„°: ìµœê·¼ 3ê°œì›”</li>\n<li>ì§‘ê³„ ë°ì´í„°: ìµœê·¼ 1ë…„</li>\n<li>íˆìŠ¤í† ë¦¬ ë°ì´í„°: S3 ì•„ì¹´ì´ë¸Œ</li>\n</ul>\n<h2 id=\"heading-12\">ğŸ“ˆ ì„±ëŠ¥ ìµœì í™”</h2>\n<h3 id=\"heading-13\">1. ì¿¼ë¦¬ ìµœì í™”</h3>\n<h4 id=\"heading-14\">1.1 ìì£¼ ì‚¬ìš©ë˜ëŠ” ì¿¼ë¦¬</h4>\n<pre><code class=\"language-sql\">-- íŠ¹ì • ê¸°ê°„ì˜ OHLCV ë°ì´í„° ì¡°íšŒ\nCREATE MATERIALIZED VIEW mv_ohlcv_1h AS\nSELECT\n    symbol,\n    date_trunc('hour', timestamp) as timeframe,\n    first(price) as open,\n    max(price) as high,\n    min(price) as low,\n    last(price) as close,\n    sum(volume) as volume\nFROM market_data\nGROUP BY symbol, timeframe;\n</code></pre>\n<h4 id=\"heading-15\">1.2 ìºì‹± ì „ëµ</h4>\n<ul>\n<li>Redis ìºì‹± ë ˆì´ì–´ êµ¬í˜„</li>\n<li>ì‹¤ì‹œê°„ ë°ì´í„° ë©”ëª¨ë¦¬ ìºì‹±</li>\n<li>ì§‘ê³„ ë°ì´í„° ìºì‹œ ê°±ì‹  ì£¼ê¸° ì„¤ì •</li>\n</ul>\n<h3 id=\"heading-16\">2. ë°±ì—… ì „ëµ</h3>\n<h4 id=\"heading-17\">2.1 ì •ê¸° ë°±ì—…</h4>\n<ul>\n<li>ì¼ì¼ ì¦ë¶„ ë°±ì—…</li>\n<li>ì£¼ê°„ ì „ì²´ ë°±ì—…</li>\n<li>ì›”ê°„ ì•„ì¹´ì´ë¸Œ</li>\n</ul>\n<h4 id=\"heading-18\">2.2 ë³µêµ¬ ê³„íš</h4>\n<ul>\n<li>Point-in-Time Recovery ì„¤ì •</li>\n<li>ì¥ì•  ë³µêµ¬ ì‹œë‚˜ë¦¬ì˜¤ ë¬¸ì„œí™”</li>\n<li>ë³µêµ¬ í…ŒìŠ¤íŠ¸ ê³„íš</li>\n</ul>\n<h2 id=\"heading-19\">ğŸ”„ ë°ì´í„° íë¦„</h2>\n<h3 id=\"heading-20\">1. ë°ì´í„° ìˆ˜ì§‘</h3>\n<pre><code class=\"language-mermaid\">graph LR\n    A[ê±°ë˜ì†Œ API] --&gt; B[ë°ì´í„° ìˆ˜ì§‘ê¸°]\n    B --&gt; C[ë°ì´í„° ì •ì œ]\n    C --&gt; D[TimescaleDB]\n    D --&gt; E[ë¶„ì„ ì—”ì§„]\n</code></pre>\n<h3 id=\"heading-21\">2. ë°ì´í„° ì²˜ë¦¬</h3>\n<ul>\n<li>ì‹¤ì‹œê°„ ìŠ¤íŠ¸ë¦¼ ì²˜ë¦¬</li>\n<li>ë°°ì¹˜ ì²˜ë¦¬</li>\n<li>ì´ìƒì¹˜ íƒì§€ ë° ì²˜ë¦¬</li>\n</ul>\n<h2 id=\"heading-22\">âš¡ í™•ì¥ì„± ê³ ë ¤ì‚¬í•­</h2>\n<h3 id=\"heading-23\">1. ìˆ˜í‰ì  í™•ì¥</h3>\n<ul>\n<li>ì½ê¸° ì „ìš© ë³µì œë³¸ êµ¬ì„±</li>\n<li>ìƒ¤ë”© ì „ëµ ìˆ˜ë¦½</li>\n<li>ë¡œë“œ ë°¸ëŸ°ì‹± ì„¤ì •</li>\n</ul>\n<h3 id=\"heading-24\">2. ìˆ˜ì§ì  í™•ì¥</h3>\n<ul>\n<li>ë¦¬ì†ŒìŠ¤ ëª¨ë‹ˆí„°ë§</li>\n<li>ì„±ëŠ¥ ì§€í‘œ ì„¤ì •</li>\n<li>ìŠ¤ì¼€ì¼ ì—… ì„ê³„ê°’ ì •ì˜</li>\n</ul>\n<p>ì´ ë¬¸ì„œëŠ” ê¸ˆìœµ ë°ì´í„° ë¶„ì„ ì‹œìŠ¤í…œì˜ ë°ì´í„°ë² ì´ìŠ¤ ì„¤ê³„ ê¸°ì¤€ì„ ì œê³µí•©ë‹ˆë‹¤. ì‹œìŠ¤í…œì˜ ìš”êµ¬ì‚¬í•­ê³¼ ì„±ëŠ¥ì„ ê³ ë ¤í•˜ì—¬ ì§€ì†ì ìœ¼ë¡œ ì—…ë°ì´íŠ¸ë  ì˜ˆì •ì…ë‹ˆë‹¤. ğŸš€</p>\n",
      "tocItems": [
        {
          "id": "heading-0",
          "text": "ê¸ˆìœµ ë°ì´í„° ë¶„ì„ ì‹œìŠ¤í…œ ë°ì´í„°ë² ì´ìŠ¤ ì„¤ê³„",
          "level": 1,
          "isMainTopic": true,
          "position": 0
        },
        {
          "id": "heading-1",
          "text": "ğŸ“Š ë°ì´í„°ë² ì´ìŠ¤ ì•„í‚¤í…ì²˜",
          "level": 2,
          "isMainTopic": true,
          "position": 50
        },
        {
          "id": "heading-2",
          "text": "1. ë°ì´í„°ë² ì´ìŠ¤ ì„ ì • ì´ìœ ",
          "level": 3,
          "isMainTopic": false,
          "position": 100
        },
        {
          "id": "heading-3",
          "text": "2. í•µì‹¬ í…Œì´ë¸” êµ¬ì¡°",
          "level": 3,
          "isMainTopic": false,
          "position": 150
        },
        {
          "id": "heading-4",
          "text": "2.1 Market Data Tables",
          "level": 4,
          "isMainTopic": false,
          "position": 200
        },
        {
          "id": "heading-5",
          "text": "2.2 ë¶„ì„ ë°ì´í„° í…Œì´ë¸”",
          "level": 4,
          "isMainTopic": false,
          "position": 250
        },
        {
          "id": "heading-6",
          "text": "3. ì¸ë±ì‹± ì „ëµ",
          "level": 3,
          "isMainTopic": false,
          "position": 300
        },
        {
          "id": "heading-7",
          "text": "3.1 ì‹œì¥ ë°ì´í„° ì¸ë±ìŠ¤",
          "level": 4,
          "isMainTopic": false,
          "position": 350
        },
        {
          "id": "heading-8",
          "text": "3.2 ë¶„ì„ ë°ì´í„° ì¸ë±ìŠ¤",
          "level": 4,
          "isMainTopic": false,
          "position": 400
        },
        {
          "id": "heading-9",
          "text": "4. íŒŒí‹°ì…”ë‹ ì „ëµ",
          "level": 3,
          "isMainTopic": false,
          "position": 450
        },
        {
          "id": "heading-10",
          "text": "4.1 ì‹œê³„ì—´ ë°ì´í„° íŒŒí‹°ì…”ë‹",
          "level": 4,
          "isMainTopic": false,
          "position": 500
        },
        {
          "id": "heading-11",
          "text": "4.2 ë³´ê´€ ì •ì±…",
          "level": 4,
          "isMainTopic": false,
          "position": 550
        },
        {
          "id": "heading-12",
          "text": "ğŸ“ˆ ì„±ëŠ¥ ìµœì í™”",
          "level": 2,
          "isMainTopic": true,
          "position": 600
        },
        {
          "id": "heading-13",
          "text": "1. ì¿¼ë¦¬ ìµœì í™”",
          "level": 3,
          "isMainTopic": false,
          "position": 650
        },
        {
          "id": "heading-14",
          "text": "1.1 ìì£¼ ì‚¬ìš©ë˜ëŠ” ì¿¼ë¦¬",
          "level": 4,
          "isMainTopic": false,
          "position": 700
        },
        {
          "id": "heading-15",
          "text": "1.2 ìºì‹± ì „ëµ",
          "level": 4,
          "isMainTopic": false,
          "position": 750
        },
        {
          "id": "heading-16",
          "text": "2. ë°±ì—… ì „ëµ",
          "level": 3,
          "isMainTopic": false,
          "position": 800
        },
        {
          "id": "heading-17",
          "text": "2.1 ì •ê¸° ë°±ì—…",
          "level": 4,
          "isMainTopic": false,
          "position": 850
        },
        {
          "id": "heading-18",
          "text": "2.2 ë³µêµ¬ ê³„íš",
          "level": 4,
          "isMainTopic": false,
          "position": 900
        },
        {
          "id": "heading-19",
          "text": "ğŸ”„ ë°ì´í„° íë¦„",
          "level": 2,
          "isMainTopic": true,
          "position": 950
        },
        {
          "id": "heading-20",
          "text": "1. ë°ì´í„° ìˆ˜ì§‘",
          "level": 3,
          "isMainTopic": false,
          "position": 1000
        },
        {
          "id": "heading-21",
          "text": "2. ë°ì´í„° ì²˜ë¦¬",
          "level": 3,
          "isMainTopic": false,
          "position": 1050
        },
        {
          "id": "heading-22",
          "text": "âš¡ í™•ì¥ì„± ê³ ë ¤ì‚¬í•­",
          "level": 2,
          "isMainTopic": true,
          "position": 1100
        },
        {
          "id": "heading-23",
          "text": "1. ìˆ˜í‰ì  í™•ì¥",
          "level": 3,
          "isMainTopic": false,
          "position": 1150
        },
        {
          "id": "heading-24",
          "text": "2. ìˆ˜ì§ì  í™•ì¥",
          "level": 3,
          "isMainTopic": false,
          "position": 1200
        }
      ]
    },
    "en": {
      "title": "Entasis Engine - Database Design",
      "description": "Database schema and design documentation for digital asset data analysis system",
      "content": "<h1 id=\"heading-0\">Financial Data Analysis System Database Design</h1>\n<h2 id=\"heading-1\">ğŸ“Š Database Architecture</h2>\n<h3 id=\"heading-2\">1. Database Selection Rationale</h3>\n<ul>\n<li><strong>PostgreSQL</strong>: RDBMS proven for stability and scalability</li>\n<li><strong>TimescaleDB</strong>: Extension optimized for time-series data processing</li>\n<li><strong>Partitioning</strong>: Efficient management of large-scale data</li>\n</ul>\n<h3 id=\"heading-3\">2. Core Table Structures</h3>\n<h4 id=\"heading-4\">2.1 Market Data Tables</h4>\n<pre><code class=\"language-sql\">-- ì‹¤ì‹œê°„ ì‹œì¥ ë°ì´í„°\nCREATE TABLE market_data (\n    id BIGSERIAL PRIMARY KEY,\n    symbol VARCHAR(20) NOT NULL,\n    exchange VARCHAR(20) NOT NULL,\n    timestamp TIMESTAMPTZ NOT NULL,\n    price DECIMAL(20,8) NOT NULL,\n    volume DECIMAL(20,8) NOT NULL,\n    created_at TIMESTAMPTZ DEFAULT CURRENT_TIMESTAMP\n) PARTITION BY RANGE (timestamp);\n\n-- ì˜µì…˜ ë°ì´í„°\nCREATE TABLE option_data (\n    id BIGSERIAL PRIMARY KEY,\n    underlying VARCHAR(20) NOT NULL,\n    strike_price DECIMAL(20,8) NOT NULL,\n    expiry_date TIMESTAMPTZ NOT NULL,\n    option_type VARCHAR(4) NOT NULL,\n    iv DECIMAL(10,4),\n    delta DECIMAL(10,4),\n    gamma DECIMAL(10,4),\n    theta DECIMAL(10,4),\n    vega DECIMAL(10,4),\n    timestamp TIMESTAMPTZ NOT NULL\n) PARTITION BY RANGE (timestamp);\n</code></pre>\n<h4 id=\"heading-5\">2.2 ë¶„ì„ ë°ì´í„° í…Œì´ë¸”</h4>\n<pre><code class=\"language-sql\">-- AI Model Prediction Results\nCREATE TABLE predictions (\n    id BIGSERIAL PRIMARY KEY,\n    model_id VARCHAR(50) NOT NULL,\n    symbol VARCHAR(20) NOT NULL,\n    prediction_type VARCHAR(20) NOT NULL,\n    predicted_value DECIMAL(20,8) NOT NULL,\n    confidence DECIMAL(5,4) NOT NULL,\n    timestamp TIMESTAMPTZ NOT NULL\n);\n\n-- Portfolio Status\nCREATE TABLE portfolio_status (\n    id BIGSERIAL PRIMARY KEY,\n    user_id UUID NOT NULL,\n    asset_type VARCHAR(20) NOT NULL,\n    position_size DECIMAL(20,8) NOT NULL,\n    entry_price DECIMAL(20,8) NOT NULL,\n    current_price DECIMAL(20,8) NOT NULL,\n    pnl DECIMAL(20,8) NOT NULL,\n    timestamp TIMESTAMPTZ NOT NULL\n);\n</code></pre>\n<h3 id=\"heading-6\">3. Indexing Strategy</h3>\n<h4 id=\"heading-7\">3.1 Market Data Indexing</h4>\n<pre><code class=\"language-sql\">-- Optimize market data query\nCREATE INDEX idx_market_data_symbol_timestamp ON market_data (symbol, timestamp DESC);\nCREATE INDEX idx_market_data_exchange_timestamp ON market_data (exchange, timestamp DESC);\n\n-- Optimize option data query\nCREATE INDEX idx_option_data_underlying_expiry ON option_data (underlying, expiry_date);\nCREATE INDEX idx_option_data_strike_type ON option_data (strike_price, option_type);\n</code></pre>\n<h4 id=\"heading-8\">3.2 Analysis Data Indexing</h4>\n<pre><code class=\"language-sql\">-- Optimize prediction data query\nCREATE INDEX idx_predictions_model_symbol ON predictions (model_id, symbol);\nCREATE INDEX idx_predictions_timestamp ON predictions (timestamp DESC);\n\n-- Optimize portfolio query\nCREATE INDEX idx_portfolio_user_timestamp ON portfolio_status (user_id, timestamp DESC);\n</code></pre>\n<h3 id=\"heading-9\">4. Partitioning Strategy</h3>\n<h4 id=\"heading-10\">4.1 Time-series Data Partitioning</h4>\n<pre><code class=\"language-sql\">-- Create monthly partitions\nCREATE TABLE market_data_y2024m01 PARTITION OF market_data\n    FOR VALUES FROM ('2024-01-01') TO ('2024-02-01');\nCREATE TABLE market_data_y2024m02 PARTITION OF market_data\n    FOR VALUES FROM ('2024-02-01') TO ('2024-03-01');\n</code></pre>\n<h4 id=\"heading-11\">4.2 Retention Policy</h4>\n<ul>\n<li>Real-time data: Latest 3 months</li>\n<li>Aggregated data: Latest 1 year</li>\n<li>Historical data: S3 archive</li>\n</ul>\n<h2 id=\"heading-12\">ğŸ“ˆ Performance Optimization</h2>\n<h3 id=\"heading-13\">1. Query Optimization</h3>\n<h4 id=\"heading-14\">1.1 Frequent Queries</h4>\n<pre><code class=\"language-sql\">-- Query specific period OHLCV data\nCREATE MATERIALIZED VIEW mv_ohlcv_1h AS\nSELECT\n    symbol,\n    date_trunc('hour', timestamp) as timeframe,\n    first(price) as open,\n    max(price) as high,\n    min(price) as low,\n    last(price) as close,\n    sum(volume) as volume\nFROM market_data\nGROUP BY symbol, timeframe;\n</code></pre>\n<h4 id=\"heading-15\">1.2 Caching Strategy</h4>\n<ul>\n<li>Implement Redis caching layer</li>\n<li>Real-time data memory caching</li>\n<li>Configure aggregated data cache refresh interval</li>\n</ul>\n<h3 id=\"heading-16\">2. Backup Strategy</h3>\n<h4 id=\"heading-17\">2.1 Regular Backups</h4>\n<ul>\n<li>Daily incremental backups</li>\n<li>Weekly full backups</li>\n<li>Monthly archive</li>\n</ul>\n<h4 id=\"heading-18\">2.2 Recovery Plan</h4>\n<ul>\n<li>Point-in-Time Recovery setup</li>\n<li>Documented disaster recovery scenarios</li>\n<li>Planned recovery tests</li>\n</ul>\n<h2 id=\"heading-19\">ğŸ”„ Data Flow</h2>\n<h3 id=\"heading-20\">1. Data Collection</h3>\n<pre><code class=\"language-mermaid\">graph LR\n    A[Exchange API] --&gt; B[Data Collector]\n    B --&gt; C[Data Cleaning]\n    C --&gt; D[TimescaleDB]\n    D --&gt; E[Analysis Engine]\n</code></pre>\n<h3 id=\"heading-21\">2. Data Processing</h3>\n<ul>\n<li>Real-time stream processing</li>\n<li>Batch processing</li>\n<li>Anomaly detection and handling</li>\n</ul>\n<h2 id=\"heading-22\">âš¡ Considerations for Scalability</h2>\n<h3 id=\"heading-23\">1. Horizontal Scaling</h3>\n<ul>\n<li>Configure read-only replicas</li>\n<li>Establish sharding strategy</li>\n<li>Set up load balancing</li>\n</ul>\n<h3 id=\"heading-24\">2. Vertical Scaling</h3>\n<ul>\n<li>Monitor resource usage</li>\n<li>Set performance metrics</li>\n<li>Define scaling thresholds</li>\n</ul>\n<p>This document provides the database design standards for the financial data analysis system. It will be updated continuously considering the system requirements and performance. ğŸš€</p>\n",
      "tocItems": [
        {
          "id": "heading-0",
          "text": "Financial Data Analysis System Database Design",
          "level": 1,
          "isMainTopic": true,
          "position": 0
        },
        {
          "id": "heading-1",
          "text": "ğŸ“Š Database Architecture",
          "level": 2,
          "isMainTopic": true,
          "position": 50
        },
        {
          "id": "heading-2",
          "text": "1. Database Selection Rationale",
          "level": 3,
          "isMainTopic": false,
          "position": 100
        },
        {
          "id": "heading-3",
          "text": "2. Core Table Structures",
          "level": 3,
          "isMainTopic": false,
          "position": 150
        },
        {
          "id": "heading-4",
          "text": "2.1 Market Data Tables",
          "level": 4,
          "isMainTopic": false,
          "position": 200
        },
        {
          "id": "heading-5",
          "text": "2.2 ë¶„ì„ ë°ì´í„° í…Œì´ë¸”",
          "level": 4,
          "isMainTopic": false,
          "position": 250
        },
        {
          "id": "heading-6",
          "text": "3. Indexing Strategy",
          "level": 3,
          "isMainTopic": false,
          "position": 300
        },
        {
          "id": "heading-7",
          "text": "3.1 Market Data Indexing",
          "level": 4,
          "isMainTopic": false,
          "position": 350
        },
        {
          "id": "heading-8",
          "text": "3.2 Analysis Data Indexing",
          "level": 4,
          "isMainTopic": false,
          "position": 400
        },
        {
          "id": "heading-9",
          "text": "4. Partitioning Strategy",
          "level": 3,
          "isMainTopic": false,
          "position": 450
        },
        {
          "id": "heading-10",
          "text": "4.1 Time-series Data Partitioning",
          "level": 4,
          "isMainTopic": false,
          "position": 500
        },
        {
          "id": "heading-11",
          "text": "4.2 Retention Policy",
          "level": 4,
          "isMainTopic": false,
          "position": 550
        },
        {
          "id": "heading-12",
          "text": "ğŸ“ˆ Performance Optimization",
          "level": 2,
          "isMainTopic": true,
          "position": 600
        },
        {
          "id": "heading-13",
          "text": "1. Query Optimization",
          "level": 3,
          "isMainTopic": false,
          "position": 650
        },
        {
          "id": "heading-14",
          "text": "1.1 Frequent Queries",
          "level": 4,
          "isMainTopic": false,
          "position": 700
        },
        {
          "id": "heading-15",
          "text": "1.2 Caching Strategy",
          "level": 4,
          "isMainTopic": false,
          "position": 750
        },
        {
          "id": "heading-16",
          "text": "2. Backup Strategy",
          "level": 3,
          "isMainTopic": false,
          "position": 800
        },
        {
          "id": "heading-17",
          "text": "2.1 Regular Backups",
          "level": 4,
          "isMainTopic": false,
          "position": 850
        },
        {
          "id": "heading-18",
          "text": "2.2 Recovery Plan",
          "level": 4,
          "isMainTopic": false,
          "position": 900
        },
        {
          "id": "heading-19",
          "text": "ğŸ”„ Data Flow",
          "level": 2,
          "isMainTopic": true,
          "position": 950
        },
        {
          "id": "heading-20",
          "text": "1. Data Collection",
          "level": 3,
          "isMainTopic": false,
          "position": 1000
        },
        {
          "id": "heading-21",
          "text": "2. Data Processing",
          "level": 3,
          "isMainTopic": false,
          "position": 1050
        },
        {
          "id": "heading-22",
          "text": "âš¡ Considerations for Scalability",
          "level": 2,
          "isMainTopic": true,
          "position": 1100
        },
        {
          "id": "heading-23",
          "text": "1. Horizontal Scaling",
          "level": 3,
          "isMainTopic": false,
          "position": 1150
        },
        {
          "id": "heading-24",
          "text": "2. Vertical Scaling",
          "level": 3,
          "isMainTopic": false,
          "position": 1200
        }
      ]
    }
  },
  "imageHeights": {}
}