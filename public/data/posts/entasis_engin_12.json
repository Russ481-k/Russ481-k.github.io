{
  "id": "entasis_engin_12",
  "title": "Entasis Engine - ë°ì´í„°ë² ì´ìŠ¤ êµ¬ì¶•",
  "content": "\n# PostgreSQL + TimescaleDBë¥¼ í™œìš©í•œ ê¸ˆìœµ ë°ì´í„°ë² ì´ìŠ¤ êµ¬ì¶•\n\nì•ˆë…•í•˜ì„¸ìš”! ì´ë²ˆ í¬ìŠ¤íŠ¸ì—ì„œëŠ” **PostgreSQLê³¼ TimescaleDB**ë¥¼ í™œìš©í•´ ê¸ˆìœµ ë°ì´í„°ë² ì´ìŠ¤ë¥¼ êµ¬ì¶•í•œ ê³¼ì •ì„ ê³µìœ í•˜ë ¤ê³  í•©ë‹ˆë‹¤. ìµœê·¼ ê¸ˆìœµ ë°ì´í„°ë¥¼ íš¨ìœ¨ì ìœ¼ë¡œ ì €ì¥í•˜ê³  ì¡°íšŒí•˜ëŠ” ê²ƒì´ ì ì  ë” ì¤‘ìš”í•´ì§€ê³  ìˆëŠ”ë°ìš”. íŠ¹íˆ ì‹¤ì‹œê°„ ì‹œì¥ ë°ì´í„°ë¥¼ ë‹¤ë£° ë•ŒëŠ” **TimescaleDBì˜ í•˜ì´í¼í…Œì´ë¸” ê¸°ëŠ¥**ì´ í° ë„ì›€ì´ ë©ë‹ˆë‹¤. ê·¸ëŸ¼ í•˜ë‚˜ì”© ì‚´í´ë³´ê² ìŠµë‹ˆë‹¤! ğŸš€\n\n---\n\n## ğŸ“Œ 1. ê¸°ë³¸ í…Œì´ë¸” êµ¬ì¡° ì„¤ì • (V1init_tables.sql)\n\nìš°ì„ , ê¸ˆìœµ ë°ì´í„°ë¥¼ ì²´ê³„ì ìœ¼ë¡œ ì €ì¥í•˜ê¸° ìœ„í•´ **ê±°ë˜ì†Œ ì •ë³´ì™€ ê±°ë˜ ì‹¬ë³¼ ì •ë³´ë¥¼ ì €ì¥í•  í…Œì´ë¸”**ì„ ë§Œë“¤ì—ˆìŠµë‹ˆë‹¤.\n\n### ğŸ”¹ exchanges í…Œì´ë¸” (ê±°ë˜ì†Œ ì •ë³´)\n\nê±°ë˜ì†Œë§ˆë‹¤ ê³ ìœ í•œ ì •ë³´ë¥¼ ì €ì¥í•˜ëŠ” í…Œì´ë¸”ì…ë‹ˆë‹¤. ê¸°ë³¸ì ì¸ ê±°ë˜ì†Œ ID, ì´ë¦„, API URL ë“±ì„ í¬í•¨í•©ë‹ˆë‹¤.\n\n```sql\nCREATE TABLE exchanges (\n    id SERIAL PRIMARY KEY,\n    name TEXT NOT NULL,\n    api_url TEXT NOT NULL,\n    created_at TIMESTAMP DEFAULT now()\n);\n```\n\n### ğŸ”¹ symbols í…Œì´ë¸” (ê±°ë˜ ì‹¬ë³¼ ì •ë³´)\n\nê±°ë˜ì†Œë§ˆë‹¤ ì§€ì›í•˜ëŠ” ì‹¬ë³¼(ì˜ˆ: BTC/USDT, ETH/USDT ë“±)ì„ ì €ì¥í•˜ëŠ” í…Œì´ë¸”ì…ë‹ˆë‹¤.\n\n```sql\nCREATE TABLE symbols (\n    id SERIAL PRIMARY KEY,\n    exchange_id INTEGER REFERENCES exchanges(id) ON DELETE CASCADE,\n    symbol TEXT NOT NULL,\n    base_currency TEXT NOT NULL,\n    quote_currency TEXT NOT NULL,\n    created_at TIMESTAMP DEFAULT now()\n);\n```\n\n---\n\n## ğŸ“Œ 2. í˜„ë¬¼ ì‹œì¥ ë°ì´í„° í…Œì´ë¸” ìƒì„± (V2create_market_tables.sql)\n\ní˜„ë¬¼ ì‹œì¥ ë°ì´í„°ë¥¼ ì €ì¥í•˜ê¸° ìœ„í•´ **spot_market_data** í…Œì´ë¸”ì„ ìƒì„±í•˜ê³ , ì´ë¥¼ TimescaleDB í•˜ì´í¼í…Œì´ë¸”ë¡œ ë³€í™˜í–ˆìŠµë‹ˆë‹¤.\n\n### ğŸ”¹ spot_market_data í…Œì´ë¸”\n\nì´ í…Œì´ë¸”ì€ ì‹¤ì‹œê°„ ê°€ê²© ë³€ë™ì„ ì €ì¥í•˜ëŠ” ì—­í• ì„ í•©ë‹ˆë‹¤.\n\n```sql\nCREATE TABLE spot_market_data (\n    time TIMESTAMPTZ NOT NULL,\n    symbol_id INTEGER REFERENCES symbols(id) ON DELETE CASCADE,\n    price DECIMAL(18, 8) NOT NULL,\n    volume DECIMAL(18, 8) NOT NULL,\n    created_at TIMESTAMP DEFAULT now(),\n    PRIMARY KEY (time, symbol_id)\n);\n```\n\n### ğŸ”¹ TimescaleDB í•˜ì´í¼í…Œì´ë¸” ë³€í™˜\n\ní•˜ì´í¼í…Œì´ë¸”ì„ ìƒì„±í•˜ë©´, ì‹œê³„ì—´ ë°ì´í„°ì— ìµœì í™”ëœ ì„±ëŠ¥ì„ ì œê³µí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n\n```sql\nSELECT create_hypertable('spot_market_data', 'time');\n```\n\n### ğŸ”¹ ì¸ë±ìŠ¤ ìƒì„±\n\në°ì´í„° ì¡°íšŒ ì†ë„ë¥¼ ë†’ì´ê¸° ìœ„í•´ í•„ìš”í•œ ì¸ë±ìŠ¤ë¥¼ ì¶”ê°€í–ˆìŠµë‹ˆë‹¤.\n\n```sql\nCREATE INDEX ON spot_market_data (symbol_id, time DESC);\n```\n\n---\n\n## ğŸ“Œ 3. ì„ ë¬¼ ì‹œì¥ ë°ì´í„° í…Œì´ë¸” ìƒì„± (V3create_futures_tables.sql)\n\nì„ ë¬¼ ì‹œì¥ ë°ì´í„°ëŠ” í˜„ë¬¼ë³´ë‹¤ ì €ì¥í•´ì•¼ í•  ì •ë³´ê°€ ë§ìŠµë‹ˆë‹¤. íŠ¹íˆ **ë¯¸ê²°ì œì•½ì •(open_interest), í€ë”© ë¹„ìœ¨(funding_rate), ë§ˆí¬ ê°€ê²©(mark_price), ì§€ìˆ˜ ê°€ê²©(index_price)** ê°™ì€ ì¶”ê°€ì ì¸ ì •ë³´ê°€ í¬í•¨ë©ë‹ˆë‹¤.\n\n### ğŸ”¹ futures_market_data í…Œì´ë¸”\n\n```sql\nCREATE TABLE futures_market_data (\n    time TIMESTAMPTZ NOT NULL,\n    symbol_id INTEGER REFERENCES symbols(id) ON DELETE CASCADE,\n    price DECIMAL(18, 8) NOT NULL,\n    volume DECIMAL(18, 8) NOT NULL,\n    open_interest DECIMAL(18, 8),\n    funding_rate DECIMAL(18, 8),\n    mark_price DECIMAL(18, 8),\n    index_price DECIMAL(18, 8),\n    created_at TIMESTAMP DEFAULT now(),\n    PRIMARY KEY (time, symbol_id)\n);\n```\n\n### ğŸ”¹ TimescaleDB í•˜ì´í¼í…Œì´ë¸” ë³€í™˜\n\n```sql\nSELECT create_hypertable('futures_market_data', 'time');\n```\n\n### ğŸ”¹ ì¸ë±ìŠ¤ ìƒì„±\n\n```sql\nCREATE INDEX ON futures_market_data (symbol_id, time DESC);\n```\n\n---\n\n## ğŸ“Œ ë§ˆë¬´ë¦¬í•˜ë©°\n\nì´ë ‡ê²Œ í•´ì„œ **í˜„ë¬¼ ë° ì„ ë¬¼ ì‹œì¥ ë°ì´í„°ë¥¼ ì €ì¥í•˜ëŠ” ê¸°ë³¸ ë°ì´í„°ë² ì´ìŠ¤ êµ¬ì¡°ë¥¼ êµ¬ì¶•**í–ˆìŠµë‹ˆë‹¤. PostgreSQLì˜ ì•ˆì •ì„±ê³¼ TimescaleDBì˜ ê°•ë ¥í•œ ì‹œê³„ì—´ ë°ì´í„° ì²˜ë¦¬ ê¸°ëŠ¥ì„ í™œìš©í•˜ë©´ **ë¹ ë¥¸ ì¡°íšŒì™€ í™•ì¥ì„±ì„ ë™ì‹œì— í™•ë³´í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.** ğŸ’¡\n\në‹¤ìŒ í¬ìŠ¤íŠ¸ì—ì„œëŠ” **ì‹¤ì œ ë°ì´í„°ë¥¼ ìˆ˜ì§‘í•˜ê³  ì €ì¥í•˜ëŠ” ê³¼ì •**ì„ ë‹¤ë£° ì˜ˆì •ì´ë‹ˆ ê¸°ëŒ€í•´ì£¼ì„¸ìš”! ğŸ¤—\n",
  "date": "2025-02-13",
  "category": "projects",
  "tags": [
    "database",
    "postgresql",
    "timescaledb",
    "schema",
    "sql",
    "data-modeling",
    "optimization"
  ],
  "thumbnail": "",
  "translations": {
    "ko": {
      "title": "Entasis Engine - ë°ì´í„°ë² ì´ìŠ¤ êµ¬ì¶•",
      "description": "ê°€ìƒìì‚° ë°ì´í„°ë² ì´ìŠ¤ êµ¬ì¶• ë° TimescaleDB í™œìš© ê°€ì´ë“œ",
      "content": "<h1 id=\"heading-0\">PostgreSQL + TimescaleDBë¥¼ í™œìš©í•œ ê¸ˆìœµ ë°ì´í„°ë² ì´ìŠ¤ êµ¬ì¶•</h1>\n<p>ì•ˆë…•í•˜ì„¸ìš”! ì´ë²ˆ í¬ìŠ¤íŠ¸ì—ì„œëŠ” <strong>PostgreSQLê³¼ TimescaleDB</strong>ë¥¼ í™œìš©í•´ ê¸ˆìœµ ë°ì´í„°ë² ì´ìŠ¤ë¥¼ êµ¬ì¶•í•œ ê³¼ì •ì„ ê³µìœ í•˜ë ¤ê³  í•©ë‹ˆë‹¤. ìµœê·¼ ê¸ˆìœµ ë°ì´í„°ë¥¼ íš¨ìœ¨ì ìœ¼ë¡œ ì €ì¥í•˜ê³  ì¡°íšŒí•˜ëŠ” ê²ƒì´ ì ì  ë” ì¤‘ìš”í•´ì§€ê³  ìˆëŠ”ë°ìš”. íŠ¹íˆ ì‹¤ì‹œê°„ ì‹œì¥ ë°ì´í„°ë¥¼ ë‹¤ë£° ë•ŒëŠ” <strong>TimescaleDBì˜ í•˜ì´í¼í…Œì´ë¸” ê¸°ëŠ¥</strong>ì´ í° ë„ì›€ì´ ë©ë‹ˆë‹¤. ê·¸ëŸ¼ í•˜ë‚˜ì”© ì‚´í´ë³´ê² ìŠµë‹ˆë‹¤! ğŸš€</p>\n<hr>\n<h2 id=\"heading-1\">ğŸ“Œ 1. ê¸°ë³¸ í…Œì´ë¸” êµ¬ì¡° ì„¤ì • (V1init_tables.sql)</h2>\n<p>ìš°ì„ , ê¸ˆìœµ ë°ì´í„°ë¥¼ ì²´ê³„ì ìœ¼ë¡œ ì €ì¥í•˜ê¸° ìœ„í•´ <strong>ê±°ë˜ì†Œ ì •ë³´ì™€ ê±°ë˜ ì‹¬ë³¼ ì •ë³´ë¥¼ ì €ì¥í•  í…Œì´ë¸”</strong>ì„ ë§Œë“¤ì—ˆìŠµë‹ˆë‹¤.</p>\n<h3 id=\"heading-2\">ğŸ”¹ exchanges í…Œì´ë¸” (ê±°ë˜ì†Œ ì •ë³´)</h3>\n<p>ê±°ë˜ì†Œë§ˆë‹¤ ê³ ìœ í•œ ì •ë³´ë¥¼ ì €ì¥í•˜ëŠ” í…Œì´ë¸”ì…ë‹ˆë‹¤. ê¸°ë³¸ì ì¸ ê±°ë˜ì†Œ ID, ì´ë¦„, API URL ë“±ì„ í¬í•¨í•©ë‹ˆë‹¤.</p>\n<pre><code class=\"language-sql\">CREATE TABLE exchanges (\n    id SERIAL PRIMARY KEY,\n    name TEXT NOT NULL,\n    api_url TEXT NOT NULL,\n    created_at TIMESTAMP DEFAULT now()\n);\n</code></pre>\n<h3 id=\"heading-3\">ğŸ”¹ symbols í…Œì´ë¸” (ê±°ë˜ ì‹¬ë³¼ ì •ë³´)</h3>\n<p>ê±°ë˜ì†Œë§ˆë‹¤ ì§€ì›í•˜ëŠ” ì‹¬ë³¼(ì˜ˆ: BTC/USDT, ETH/USDT ë“±)ì„ ì €ì¥í•˜ëŠ” í…Œì´ë¸”ì…ë‹ˆë‹¤.</p>\n<pre><code class=\"language-sql\">CREATE TABLE symbols (\n    id SERIAL PRIMARY KEY,\n    exchange_id INTEGER REFERENCES exchanges(id) ON DELETE CASCADE,\n    symbol TEXT NOT NULL,\n    base_currency TEXT NOT NULL,\n    quote_currency TEXT NOT NULL,\n    created_at TIMESTAMP DEFAULT now()\n);\n</code></pre>\n<hr>\n<h2 id=\"heading-4\">ğŸ“Œ 2. í˜„ë¬¼ ì‹œì¥ ë°ì´í„° í…Œì´ë¸” ìƒì„± (V2create_market_tables.sql)</h2>\n<p>í˜„ë¬¼ ì‹œì¥ ë°ì´í„°ë¥¼ ì €ì¥í•˜ê¸° ìœ„í•´ <strong>spot_market_data</strong> í…Œì´ë¸”ì„ ìƒì„±í•˜ê³ , ì´ë¥¼ TimescaleDB í•˜ì´í¼í…Œì´ë¸”ë¡œ ë³€í™˜í–ˆìŠµë‹ˆë‹¤.</p>\n<h3 id=\"heading-5\">ğŸ”¹ spot_market_data í…Œì´ë¸”</h3>\n<p>ì´ í…Œì´ë¸”ì€ ì‹¤ì‹œê°„ ê°€ê²© ë³€ë™ì„ ì €ì¥í•˜ëŠ” ì—­í• ì„ í•©ë‹ˆë‹¤.</p>\n<pre><code class=\"language-sql\">CREATE TABLE spot_market_data (\n    time TIMESTAMPTZ NOT NULL,\n    symbol_id INTEGER REFERENCES symbols(id) ON DELETE CASCADE,\n    price DECIMAL(18, 8) NOT NULL,\n    volume DECIMAL(18, 8) NOT NULL,\n    created_at TIMESTAMP DEFAULT now(),\n    PRIMARY KEY (time, symbol_id)\n);\n</code></pre>\n<h3 id=\"heading-6\">ğŸ”¹ TimescaleDB í•˜ì´í¼í…Œì´ë¸” ë³€í™˜</h3>\n<p>í•˜ì´í¼í…Œì´ë¸”ì„ ìƒì„±í•˜ë©´, ì‹œê³„ì—´ ë°ì´í„°ì— ìµœì í™”ëœ ì„±ëŠ¥ì„ ì œê³µí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p>\n<pre><code class=\"language-sql\">SELECT create_hypertable('spot_market_data', 'time');\n</code></pre>\n<h3 id=\"heading-7\">ğŸ”¹ ì¸ë±ìŠ¤ ìƒì„±</h3>\n<p>ë°ì´í„° ì¡°íšŒ ì†ë„ë¥¼ ë†’ì´ê¸° ìœ„í•´ í•„ìš”í•œ ì¸ë±ìŠ¤ë¥¼ ì¶”ê°€í–ˆìŠµë‹ˆë‹¤.</p>\n<pre><code class=\"language-sql\">CREATE INDEX ON spot_market_data (symbol_id, time DESC);\n</code></pre>\n<hr>\n<h2 id=\"heading-8\">ğŸ“Œ 3. ì„ ë¬¼ ì‹œì¥ ë°ì´í„° í…Œì´ë¸” ìƒì„± (V3create_futures_tables.sql)</h2>\n<p>ì„ ë¬¼ ì‹œì¥ ë°ì´í„°ëŠ” í˜„ë¬¼ë³´ë‹¤ ì €ì¥í•´ì•¼ í•  ì •ë³´ê°€ ë§ìŠµë‹ˆë‹¤. íŠ¹íˆ <strong>ë¯¸ê²°ì œì•½ì •(open_interest), í€ë”© ë¹„ìœ¨(funding_rate), ë§ˆí¬ ê°€ê²©(mark_price), ì§€ìˆ˜ ê°€ê²©(index_price)</strong> ê°™ì€ ì¶”ê°€ì ì¸ ì •ë³´ê°€ í¬í•¨ë©ë‹ˆë‹¤.</p>\n<h3 id=\"heading-9\">ğŸ”¹ futures_market_data í…Œì´ë¸”</h3>\n<pre><code class=\"language-sql\">CREATE TABLE futures_market_data (\n    time TIMESTAMPTZ NOT NULL,\n    symbol_id INTEGER REFERENCES symbols(id) ON DELETE CASCADE,\n    price DECIMAL(18, 8) NOT NULL,\n    volume DECIMAL(18, 8) NOT NULL,\n    open_interest DECIMAL(18, 8),\n    funding_rate DECIMAL(18, 8),\n    mark_price DECIMAL(18, 8),\n    index_price DECIMAL(18, 8),\n    created_at TIMESTAMP DEFAULT now(),\n    PRIMARY KEY (time, symbol_id)\n);\n</code></pre>\n<h3 id=\"heading-10\">ğŸ”¹ TimescaleDB í•˜ì´í¼í…Œì´ë¸” ë³€í™˜</h3>\n<pre><code class=\"language-sql\">SELECT create_hypertable('futures_market_data', 'time');\n</code></pre>\n<h3 id=\"heading-11\">ğŸ”¹ ì¸ë±ìŠ¤ ìƒì„±</h3>\n<pre><code class=\"language-sql\">CREATE INDEX ON futures_market_data (symbol_id, time DESC);\n</code></pre>\n<hr>\n<h2 id=\"heading-12\">ğŸ“Œ ë§ˆë¬´ë¦¬í•˜ë©°</h2>\n<p>ì´ë ‡ê²Œ í•´ì„œ <strong>í˜„ë¬¼ ë° ì„ ë¬¼ ì‹œì¥ ë°ì´í„°ë¥¼ ì €ì¥í•˜ëŠ” ê¸°ë³¸ ë°ì´í„°ë² ì´ìŠ¤ êµ¬ì¡°ë¥¼ êµ¬ì¶•</strong>í–ˆìŠµë‹ˆë‹¤. PostgreSQLì˜ ì•ˆì •ì„±ê³¼ TimescaleDBì˜ ê°•ë ¥í•œ ì‹œê³„ì—´ ë°ì´í„° ì²˜ë¦¬ ê¸°ëŠ¥ì„ í™œìš©í•˜ë©´ <strong>ë¹ ë¥¸ ì¡°íšŒì™€ í™•ì¥ì„±ì„ ë™ì‹œì— í™•ë³´í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</strong> ğŸ’¡</p>\n<p>ë‹¤ìŒ í¬ìŠ¤íŠ¸ì—ì„œëŠ” <strong>ì‹¤ì œ ë°ì´í„°ë¥¼ ìˆ˜ì§‘í•˜ê³  ì €ì¥í•˜ëŠ” ê³¼ì •</strong>ì„ ë‹¤ë£° ì˜ˆì •ì´ë‹ˆ ê¸°ëŒ€í•´ì£¼ì„¸ìš”! ğŸ¤—</p>\n",
      "tocItems": [
        {
          "id": "heading-0",
          "text": "PostgreSQL + TimescaleDBë¥¼ í™œìš©í•œ ê¸ˆìœµ ë°ì´í„°ë² ì´ìŠ¤ êµ¬ì¶•",
          "level": 1,
          "isMainTopic": true,
          "position": 0
        },
        {
          "id": "heading-1",
          "text": "ğŸ“Œ 1. ê¸°ë³¸ í…Œì´ë¸” êµ¬ì¡° ì„¤ì • (V1init_tables.sql)",
          "level": 2,
          "isMainTopic": true,
          "position": 50
        },
        {
          "id": "heading-2",
          "text": "ğŸ”¹ exchanges í…Œì´ë¸” (ê±°ë˜ì†Œ ì •ë³´)",
          "level": 3,
          "isMainTopic": false,
          "position": 100
        },
        {
          "id": "heading-3",
          "text": "ğŸ”¹ symbols í…Œì´ë¸” (ê±°ë˜ ì‹¬ë³¼ ì •ë³´)",
          "level": 3,
          "isMainTopic": false,
          "position": 150
        },
        {
          "id": "heading-4",
          "text": "ğŸ“Œ 2. í˜„ë¬¼ ì‹œì¥ ë°ì´í„° í…Œì´ë¸” ìƒì„± (V2create_market_tables.sql)",
          "level": 2,
          "isMainTopic": true,
          "position": 200
        },
        {
          "id": "heading-5",
          "text": "ğŸ”¹ spot_market_data í…Œì´ë¸”",
          "level": 3,
          "isMainTopic": false,
          "position": 250
        },
        {
          "id": "heading-6",
          "text": "ğŸ”¹ TimescaleDB í•˜ì´í¼í…Œì´ë¸” ë³€í™˜",
          "level": 3,
          "isMainTopic": false,
          "position": 300
        },
        {
          "id": "heading-7",
          "text": "ğŸ”¹ ì¸ë±ìŠ¤ ìƒì„±",
          "level": 3,
          "isMainTopic": false,
          "position": 350
        },
        {
          "id": "heading-8",
          "text": "ğŸ“Œ 3. ì„ ë¬¼ ì‹œì¥ ë°ì´í„° í…Œì´ë¸” ìƒì„± (V3create_futures_tables.sql)",
          "level": 2,
          "isMainTopic": true,
          "position": 400
        },
        {
          "id": "heading-9",
          "text": "ğŸ”¹ futures_market_data í…Œì´ë¸”",
          "level": 3,
          "isMainTopic": false,
          "position": 450
        },
        {
          "id": "heading-10",
          "text": "ğŸ”¹ TimescaleDB í•˜ì´í¼í…Œì´ë¸” ë³€í™˜",
          "level": 3,
          "isMainTopic": false,
          "position": 500
        },
        {
          "id": "heading-11",
          "text": "ğŸ”¹ ì¸ë±ìŠ¤ ìƒì„±",
          "level": 3,
          "isMainTopic": false,
          "position": 550
        },
        {
          "id": "heading-12",
          "text": "ğŸ“Œ ë§ˆë¬´ë¦¬í•˜ë©°",
          "level": 2,
          "isMainTopic": true,
          "position": 600
        }
      ]
    },
    "en": {
      "title": "Entasis Engine - Database Setup",
      "description": "Guide for setting up digital asset database and utilizing TimescaleDB",
      "content": "<h1 id=\"heading-0\">Building Financial Database with PostgreSQL + TimescaleDB</h1>\n<p>Hello! In this post, I'll share how we built a financial database using <strong>PostgreSQL and TimescaleDB</strong>. Efficiently storing and querying financial data is becoming increasingly important. Particularly when dealing with real-time market data, <strong>TimescaleDB's hypertable functionality</strong> is incredibly helpful. Let's dive in! ğŸš€</p>\n<hr>\n<h2 id=\"heading-1\">ğŸ“Œ 1. Setting Up Basic Table Structure (V1init_tables.sql)</h2>\n<p>First, we created tables to systematically store <strong>exchange information and trading symbol data</strong>.</p>\n<h3 id=\"heading-2\">ğŸ”¹ exchanges Table (Exchange Information)</h3>\n<p>This table stores unique information for each exchange, including basic exchange ID, name, API URL, etc.</p>\n<pre><code class=\"language-sql\">CREATE TABLE exchanges (\n    id SERIAL PRIMARY KEY,\n    name TEXT NOT NULL,\n    api_url TEXT NOT NULL,\n    created_at TIMESTAMP DEFAULT now()\n);\n</code></pre>\n<h3 id=\"heading-3\">ğŸ”¹ symbols table (Trading Symbol Information)</h3>\n<p>This table stores the trading symbols supported by each exchange (e.g., BTC/USDT, ETH/USDT, etc.).</p>\n<pre><code class=\"language-sql\">CREATE TABLE symbols (\n    id SERIAL PRIMARY KEY,\n    exchange_id INTEGER REFERENCES exchanges(id) ON DELETE CASCADE,\n    symbol TEXT NOT NULL,\n    base_currency TEXT NOT NULL,\n    quote_currency TEXT NOT NULL,\n    created_at TIMESTAMP DEFAULT now()\n);\n</code></pre>\n<hr>\n<h2 id=\"heading-4\">ğŸ“Œ 2. Create Market Data Tables (V2create_market_tables.sql)</h2>\n<p>To store spot market data, we created the <strong>spot_market_data</strong> table and converted it to a TimescaleDB hypertable.</p>\n<h3 id=\"heading-5\">ğŸ”¹ spot_market_data table</h3>\n<p>This table stores real-time price fluctuations.</p>\n<pre><code class=\"language-sql\">CREATE TABLE spot_market_data (\n    time TIMESTAMPTZ NOT NULL,\n    symbol_id INTEGER REFERENCES symbols(id) ON DELETE CASCADE,\n    price DECIMAL(18, 8) NOT NULL,\n    volume DECIMAL(18, 8) NOT NULL,\n    created_at TIMESTAMP DEFAULT now(),\n    PRIMARY KEY (time, symbol_id)\n);\n</code></pre>\n<h3 id=\"heading-6\">ğŸ”¹ TimescaleDB Hypertable Conversion</h3>\n<p>Creating a hypertable will provide optimized performance for time-series data.</p>\n<pre><code class=\"language-sql\">SELECT create_hypertable('spot_market_data', 'time');\n</code></pre>\n<h3 id=\"heading-7\">ğŸ”¹ Create Index</h3>\n<p>To increase data retrieval speed, we added the necessary indexes.</p>\n<pre><code class=\"language-sql\">CREATE INDEX ON spot_market_data (symbol_id, time DESC);\n</code></pre>\n<hr>\n<h2 id=\"heading-8\">ğŸ“Œ 3. Create Futures Market Data Tables (V3create_futures_tables.sql)</h2>\n<p>Futures market data requires storing more information than spot market data. Particularly, it includes additional information such as <strong>unsettled contracts (open_interest), funding rate (funding_rate), mark price (mark_price), and index price (index_price).</strong></p>\n<h3 id=\"heading-9\">ğŸ”¹ futures_market_data table</h3>\n<pre><code class=\"language-sql\">CREATE TABLE futures_market_data (\n    time TIMESTAMPTZ NOT NULL,\n    symbol_id INTEGER REFERENCES symbols(id) ON DELETE CASCADE,\n    price DECIMAL(18, 8) NOT NULL,\n    volume DECIMAL(18, 8) NOT NULL,\n    open_interest DECIMAL(18, 8),\n    funding_rate DECIMAL(18, 8),\n    mark_price DECIMAL(18, 8),\n    index_price DECIMAL(18, 8),\n    created_at TIMESTAMP DEFAULT now(),\n    PRIMARY KEY (time, symbol_id)\n);\n</code></pre>\n<h3 id=\"heading-10\">ğŸ”¹ TimescaleDB Hypertable Conversion</h3>\n<pre><code class=\"language-sql\">SELECT create_hypertable('futures_market_data', 'time');\n</code></pre>\n<h3 id=\"heading-11\">ğŸ”¹ Create Index</h3>\n<pre><code class=\"language-sql\">CREATE INDEX ON futures_market_data (symbol_id, time DESC);\n</code></pre>\n<hr>\n<h2 id=\"heading-12\">ğŸ“Œ 4. Conclusion</h2>\n<p>We successfully built the basic database structure to store spot and futures market data. By leveraging the stability of PostgreSQL and the powerful time-series data processing capabilities of TimescaleDB, we can achieve both fast retrieval and scalability. ğŸ’¡</p>\n<p>Next post will cover the process of collecting and storing actual data. Stay tuned! ğŸ¤—</p>\n",
      "tocItems": [
        {
          "id": "heading-0",
          "text": "Building Financial Database with PostgreSQL + TimescaleDB",
          "level": 1,
          "isMainTopic": true,
          "position": 0
        },
        {
          "id": "heading-1",
          "text": "ğŸ“Œ 1. Setting Up Basic Table Structure (V1init_tables.sql)",
          "level": 2,
          "isMainTopic": true,
          "position": 50
        },
        {
          "id": "heading-2",
          "text": "ğŸ”¹ exchanges Table (Exchange Information)",
          "level": 3,
          "isMainTopic": false,
          "position": 100
        },
        {
          "id": "heading-3",
          "text": "ğŸ”¹ symbols table (Trading Symbol Information)",
          "level": 3,
          "isMainTopic": false,
          "position": 150
        },
        {
          "id": "heading-4",
          "text": "ğŸ“Œ 2. Create Market Data Tables (V2create_market_tables.sql)",
          "level": 2,
          "isMainTopic": true,
          "position": 200
        },
        {
          "id": "heading-5",
          "text": "ğŸ”¹ spot_market_data table",
          "level": 3,
          "isMainTopic": false,
          "position": 250
        },
        {
          "id": "heading-6",
          "text": "ğŸ”¹ TimescaleDB Hypertable Conversion",
          "level": 3,
          "isMainTopic": false,
          "position": 300
        },
        {
          "id": "heading-7",
          "text": "ğŸ”¹ Create Index",
          "level": 3,
          "isMainTopic": false,
          "position": 350
        },
        {
          "id": "heading-8",
          "text": "ğŸ“Œ 3. Create Futures Market Data Tables (V3create_futures_tables.sql)",
          "level": 2,
          "isMainTopic": true,
          "position": 400
        },
        {
          "id": "heading-9",
          "text": "ğŸ”¹ futures_market_data table",
          "level": 3,
          "isMainTopic": false,
          "position": 450
        },
        {
          "id": "heading-10",
          "text": "ğŸ”¹ TimescaleDB Hypertable Conversion",
          "level": 3,
          "isMainTopic": false,
          "position": 500
        },
        {
          "id": "heading-11",
          "text": "ğŸ”¹ Create Index",
          "level": 3,
          "isMainTopic": false,
          "position": 550
        },
        {
          "id": "heading-12",
          "text": "ğŸ“Œ 4. Conclusion",
          "level": 2,
          "isMainTopic": true,
          "position": 600
        }
      ]
    }
  },
  "imageHeights": {}
}