(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[326],{5326:function(t,e,n){"use strict";n.r(e),n.d(e,{default:function(){return f}});var l=n(9268);n(1211);let o=t=>{let{name:e}=t;return(0,l.jsx)("span",{className:"tag",children:e})};var a=n(6006);n(3302);var s=n(6394),c=n.n(s),r=n(8174),i=n(8431);let d=t=>{let{children:e}=t,[n,l]=(0,a.useState)(!1);return(0,a.useEffect)(()=>(l(!0),()=>l(!1)),[]),n?(0,i.createPortal)(e,document.getElementById("modal-root")||document.body):null};var u=n(9406),h=n(6708);let m=t=>{var e,n,s,i;let{post:m,isOpen:f,onClose:p,prevPost:v,nextPost:g,onPostChange:x}=t,{t:y,i18n:j}=(0,h.$G)(),b=j.language,N=(null===(e=m.translations)||void 0===e?void 0:e[b])||(null===(n=m.translations)||void 0===n?void 0:n.en),{title:_,content:w,tocItems:C}=N,[E,k]=(0,a.useState)(""),T=(0,a.useRef)(null),[S,R]=(0,a.useState)({}),A=(0,a.useCallback)(t=>{let e=null==C?void 0:C.find(e=>e.id===t);if(!e||!T.current)return;let n=T.current.querySelector("#".concat(t));if(!n)return;let l=T.current.getBoundingClientRect(),o=n.getBoundingClientRect(),a=o.top-l.top+T.current.scrollTop;T.current.scrollTo({top:a-32,behavior:"smooth"})},[C]),F=(0,a.useCallback)(()=>{if(!T.current||!(null==C?void 0:C.length))return;let t=T.current.getBoundingClientRect();T.current.scrollTop;let e=C[0];for(let n of C){let l=T.current.querySelector("#".concat(n.id));if(!l)continue;let o=l.getBoundingClientRect(),a=o.top-t.top;if(a<=42)e=n;else break}k(e.id)},[C]);(0,a.useEffect)(()=>{let t=T.current;if(t)return t.addEventListener("scroll",F),F(),()=>t.removeEventListener("scroll",F)},[F]);let L=async t=>{try{let e=await (0,u.p)(t.id);x(e)}catch(t){console.error("Error fetching post:",t)}};(0,a.useEffect)(()=>(f?(document.documentElement.style.overflow="hidden",document.body.style.overflow="hidden",document.body.style.height="100vh",document.body.style.touchAction="none"):(document.documentElement.style.overflow="",document.body.style.overflow="",document.body.style.height="",document.body.style.touchAction=""),()=>{document.documentElement.style.overflow="",document.body.style.overflow="",document.body.style.height="",document.body.style.touchAction=""}),[f]),(0,a.useEffect)(()=>{let t=document.querySelectorAll(".content pre");t.forEach((t,e)=>{var n;let l=(null===(n=t.className.match(/language-(\w+)/))||void 0===n?void 0:n[1])||"text";t.setAttribute("data-language",l);let o=document.createElement("button");o.className="copy-button",o.innerHTML='<span class="icon"><FiCopy /></span><span>Copy</span>',o.onclick=()=>B(e,t.textContent||""),t.appendChild(o)})},[w]);let B=async(t,e)=>{try{await navigator.clipboard.writeText(e),R(e=>({...e,[t]:!0})),setTimeout(()=>{R(e=>({...e,[t]:!1}))},2e3)}catch(t){console.error("Failed to copy text:",t)}};if(!f)return null;let M=new Date(m.date).toLocaleDateString("ko-KR",{year:"numeric",month:"long",day:"numeric"}),P=(0,r.F)(m.thumbnail);console.log("Post headings:",C),console.log("Current post:",m);let q=(0,l.jsx)("div",{className:"modal_overlay",onClick:p,children:(0,l.jsxs)("div",{className:"modal_content",onClick:t=>t.stopPropagation(),children:[(0,l.jsxs)("div",{className:"modal_header",children:[v&&(0,l.jsx)("button",{className:"nav_button prev",onClick:()=>L(v),children:(0,l.jsxs)("div",{className:"nav_info",children:[(0,l.jsxs)("div",{className:"nav_info_left",children:[(0,l.jsx)("span",{className:"arrow",children:"←"}),(0,l.jsx)("span",{className:"label",children:y("modal.prev")})]}),(0,l.jsx)("span",{className:"title",children:(null===(s=v.translations[b])||void 0===s?void 0:s.title)||v.translations.en.title})]})}),(0,l.jsx)("h2",{children:_}),g&&(0,l.jsx)("button",{className:"nav_button next",onClick:()=>L(g),children:(0,l.jsxs)("div",{className:"nav_info",children:[(0,l.jsxs)("div",{className:"nav_info_right",children:[(0,l.jsx)("span",{className:"label",children:y("modal.next")}),(0,l.jsx)("span",{className:"arrow",children:"→"})]}),(0,l.jsx)("span",{className:"title",children:(null===(i=g.translations[b])||void 0===i?void 0:i.title)||g.translations.en.title})]})})]}),(0,l.jsxs)("div",{className:"modal_meta",children:[(0,l.jsx)("div",{className:"tags",children:m.tags.map(t=>(0,l.jsx)(o,{name:t},t))}),(0,l.jsx)("span",{className:"date",children:M})]}),(0,l.jsxs)("div",{className:"modal_body",ref:T,children:[m.thumbnail&&"string"==typeof P&&(0,l.jsx)("div",{className:"modal_thumbnail",children:(0,l.jsx)(c(),{src:P,alt:_,width:800,height:600,priority:!0})}),(0,l.jsxs)("div",{className:"content_wrapper",children:[(0,l.jsx)("div",{className:"content",dangerouslySetInnerHTML:{__html:m.translations[b].content}}),(null==C?void 0:C.length)>0&&(0,l.jsxs)("nav",{className:"table_of_contents",children:[(0,l.jsx)("h3",{children:y("modal.toc")}),(0,l.jsx)("ul",{children:C.map(t=>(0,l.jsx)("li",{className:"toc_item ".concat(t.isMainTopic?"main_topic":"sub_topic"," ").concat(E===t.id?"active":""),onClick:()=>A(t.id),children:t.text},t.id))})]})]})]}),(0,l.jsx)("div",{className:"modal_footer",children:(0,l.jsx)("button",{className:"close_button",onClick:p,children:y("modal.close")})})]})});return(0,l.jsx)(d,{children:q})};var f=m},9406:function(t,e,n){"use strict";async function l(){let t=await fetch("/data/posts.json");if(!t.ok)throw Error("Failed to fetch posts");return t.json()}async function o(t){let e=await fetch("/data/posts/".concat(t,".json"));if(!e.ok)throw Error("Failed to fetch post: ".concat(t));return e.json()}n.d(e,{O:function(){return l},p:function(){return o}})},8174:function(t,e,n){"use strict";n.d(e,{F:function(){return r}});var l=n(9268),o=n(6006);let a=function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=0;for(let e=0;e<t.length;e++)n=t.charCodeAt(e)+((n<<5)-n);let l=180+Math.abs(n+30*e)%60,o=55+n%20,a=40+n%3;return"hsl(".concat(l,", ").concat(o,"%, ").concat(a,"%)")},s=t=>{let e=a(t),n=a(t,1);return"linear-gradient(135deg, ".concat(e,", ").concat(n,")")},c=t=>{let{title:e,tags:n,width:a,height:c,postId:r}=t,i=(0,o.useRef)(null),d=(t,e,n,l,o,a)=>{let s=e.split(" "),c="",r=[];for(let e=0;e<s.length;e++){let n=c+s[e]+" ",l=t.measureText(n),a=l.width;a>o&&e>0?(r.push(c),c=s[e]+" "):c=n}r.push(c);let i=r.length*a,d=l-i/2+a/2;return r.forEach((e,l)=>{t.fillText(e.trim(),n,d+l*a)}),d+r.length*a};return(0,o.useEffect)(()=>{let t=i.current;if(!t)return;let l=t.getContext("2d");if(!l)return;let o=l.createLinearGradient(0,0,a,c),u=s(r),h=u.match(/hsl\(\d+,\s*\d+%,\s*\d+%\)/g)||[];h.forEach((t,e)=>{o.addColorStop(e,t)}),l.fillStyle=o,l.fillRect(0,0,a,c),l.fillStyle="white",l.textAlign="center",l.font="bold 24px Pretendard";let m=.8*a,f=[],p="",v=e.split(" ");for(let t=0;t<v.length;t++){let e=p+v[t]+" ",n=l.measureText(e);n.width>m&&t>0?(f.push(p),p=v[t]+" "):p=e}f.push(p);let g=30*f.length,x=20*Math.min(n.length,3),y=d(l,e,a/2,(c-(g+x+20))/2+g/2,m,30);l.font="14px Pretendard";let j=n.slice(0,3);j.forEach((t,e)=>{l.fillText("#".concat(t),a/2,y+20+20*e)})},[e,n,a,c,r]),(0,l.jsx)("canvas",{ref:i,width:a,height:c,style:{borderRadius:"8px"}})},r=(t,e)=>t&&""!==t?t.startsWith("http")?t:t.startsWith("/")?t:"/".concat(t):o.createElement(c,{title:(null==e?void 0:e.title)||"",tags:(null==e?void 0:e.tags)||[],width:260,height:260,postId:(null==e?void 0:e.id)||"default"})},3302:function(){},1211:function(){}}]);