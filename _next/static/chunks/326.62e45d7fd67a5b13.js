(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[326],{5326:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return f}});var l=n(9268);n(1211);let o=e=>{let{name:t}=e;return(0,l.jsx)("span",{className:"tag",children:t})};var s=n(6006);n(3302);var a=n(6394),c=n.n(a),r=n(4128),i=n(8431);let d=e=>{let{children:t}=e,[n,l]=(0,s.useState)(!1);return(0,s.useEffect)(()=>(l(!0),()=>l(!1)),[]),n?(0,i.createPortal)(t,document.getElementById("modal-root")||document.body):null};var u=n(9406),m=n(6708);let h=e=>{var t,n,a,i;let{post:h,isOpen:f,onClose:v,prevPost:p,nextPost:y,onPostChange:x}=e,{t:j,i18n:g}=(0,m.$G)(),b=g.language,N=(null===(t=h.translations)||void 0===t?void 0:t[b])||(null===(n=h.translations)||void 0===n?void 0:n.en),{title:_,content:w,tocItems:C}=N,[k,E]=(0,s.useState)(""),S=(0,s.useRef)(null),[T,F]=(0,s.useState)({}),R=(0,s.useCallback)(e=>{let t=null==C?void 0:C.find(t=>t.id===e);if(!t||!S.current)return;let n=S.current.querySelector("#".concat(e));if(!n)return;let l=S.current.getBoundingClientRect(),o=n.getBoundingClientRect(),s=o.top-l.top+S.current.scrollTop;S.current.scrollTo({top:s-32,behavior:"smooth"})},[C]),A=(0,s.useCallback)(()=>{if(!S.current||!(null==C?void 0:C.length))return;let e=S.current.getBoundingClientRect();S.current.scrollTop;let t=C[0];for(let n of C){let l=S.current.querySelector("#".concat(n.id));if(!l)continue;let o=l.getBoundingClientRect(),s=o.top-e.top;if(s<=42)t=n;else break}E(t.id)},[C]);(0,s.useEffect)(()=>{let e=S.current;if(e)return e.addEventListener("scroll",A),A(),()=>e.removeEventListener("scroll",A)},[A]);let B=async e=>{try{let t=await (0,u.p)(e.id);x(t)}catch(e){console.error("Error fetching post:",e)}};(0,s.useEffect)(()=>(f?(document.documentElement.style.overflow="hidden",document.body.style.overflow="hidden",document.body.style.height="100vh",document.body.style.touchAction="none"):(document.documentElement.style.overflow="",document.body.style.overflow="",document.body.style.height="",document.body.style.touchAction=""),()=>{document.documentElement.style.overflow="",document.body.style.overflow="",document.body.style.height="",document.body.style.touchAction=""}),[f]),(0,s.useEffect)(()=>{let e=document.querySelectorAll(".content pre");e.forEach((e,t)=>{var n;let l=(null===(n=e.className.match(/language-(\w+)/))||void 0===n?void 0:n[1])||"text";e.setAttribute("data-language",l);let o=document.createElement("button");o.className="copy-button",o.innerHTML='<span class="icon"><FiCopy /></span><span>Copy</span>',o.onclick=()=>L(t,e.textContent||""),e.appendChild(o)})},[w]);let L=async(e,t)=>{try{await navigator.clipboard.writeText(t),F(t=>({...t,[e]:!0})),setTimeout(()=>{F(t=>({...t,[e]:!1}))},2e3)}catch(e){console.error("Failed to copy text:",e)}};if(!f)return null;let q=new Date(h.date).toLocaleDateString("ko-KR",{year:"numeric",month:"long",day:"numeric"}),M=(0,r.F)(h.thumbnail);console.log("Post headings:",C),console.log("Current post:",h);let P=(0,l.jsx)("div",{className:"modal_overlay",onClick:v,children:(0,l.jsxs)("div",{className:"modal_content",onClick:e=>e.stopPropagation(),children:[(0,l.jsxs)("div",{className:"modal_header",children:[p&&(0,l.jsx)("button",{className:"nav_button prev",onClick:()=>B(p),children:(0,l.jsxs)("div",{className:"nav_info",children:[(0,l.jsxs)("div",{className:"nav_info_left",children:[(0,l.jsx)("span",{className:"arrow",children:"←"}),(0,l.jsx)("span",{className:"label",children:j("modal.prev")})]}),(0,l.jsx)("span",{className:"title",children:(null===(a=p.translations[b])||void 0===a?void 0:a.title)||p.translations.en.title})]})}),(0,l.jsx)("h2",{children:_}),y&&(0,l.jsx)("button",{className:"nav_button next",onClick:()=>B(y),children:(0,l.jsxs)("div",{className:"nav_info",children:[(0,l.jsxs)("div",{className:"nav_info_right",children:[(0,l.jsx)("span",{className:"label",children:j("modal.next")}),(0,l.jsx)("span",{className:"arrow",children:"→"})]}),(0,l.jsx)("span",{className:"title",children:(null===(i=y.translations[b])||void 0===i?void 0:i.title)||y.translations.en.title})]})})]}),(0,l.jsxs)("div",{className:"modal_meta",children:[(0,l.jsx)("div",{className:"tags",children:h.tags.map(e=>(0,l.jsx)(o,{name:e},e))}),(0,l.jsx)("span",{className:"date",children:q})]}),(0,l.jsxs)("div",{className:"modal_body",ref:S,children:[h.thumbnail&&(0,l.jsx)("div",{className:"modal_thumbnail",children:(0,l.jsx)(c(),{src:M,alt:_,width:800,height:600,priority:!0})}),(0,l.jsxs)("div",{className:"content_wrapper",children:[(0,l.jsx)("div",{className:"content",dangerouslySetInnerHTML:{__html:h.translations[b].content}}),(null==C?void 0:C.length)>0&&(0,l.jsxs)("nav",{className:"table_of_contents",children:[(0,l.jsx)("h3",{children:j("modal.toc")}),(0,l.jsx)("ul",{children:C.map(e=>(0,l.jsx)("li",{className:"toc_item ".concat(e.isMainTopic?"main_topic":"sub_topic"," ").concat(k===e.id?"active":""),onClick:()=>R(e.id),children:e.text},e.id))})]})]})]}),(0,l.jsx)("div",{className:"modal_footer",children:(0,l.jsx)("button",{className:"close_button",onClick:v,children:j("modal.close")})})]})});return(0,l.jsx)(d,{children:P})};var f=h},9406:function(e,t,n){"use strict";async function l(){let e=await fetch("/data/posts.json");if(!e.ok)throw Error("Failed to fetch posts");return e.json()}async function o(e){let t=await fetch("/data/posts/".concat(e,".json"));if(!t.ok)throw Error("Failed to fetch post: ".concat(e));return t.json()}n.d(t,{O:function(){return l},p:function(){return o}})},4128:function(e,t,n){"use strict";function l(e){return e&&e.startsWith("/images/")?e:"/images/posts/default-thumbnail.jpg"}n.d(t,{F:function(){return l}})},3302:function(){},1211:function(){}}]);