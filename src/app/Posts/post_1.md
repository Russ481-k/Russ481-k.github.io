# 주간 수행 업무 목록

# 완료 업무 내용

---

- [x]  비밀번호 재설정 PR
- [x]  프로필 수정 PR
- [x]  운영자 관리 초기화 문제 해결
- [ ]  프로필 수정
    - [x]  프로필 사진 이미지 업로더 연동
    - [x]  직급 출력 직급 아이디가 아닌 직급 명으로 변경하는 함수 필요
    - [x]  추후에 비밀번호 초기화 기능과 연동될 경우 로그인 된 상태에서 초기화가 된 후 프로필 수정을 하면 pwResetYN을 N으로 변경할 수 있도록 유저 체인지 함수에 값을 넣어 보내야  함
    - [x]  빈 칸으로 수정요청을 보내면 기존 값이 넣어져야 함
    - [x]  프로필 수정 시 탑 바 아바타 이미지 변경
- [x]  운영자 권한 관리 스위치 버튼을 버튼 두 개로 나누어 구현
- [x]  열람페이지 관리 기능 테스트
    - [x]  운영자 관리 페이지와 동일하게 동작하는지 기능을 확인
- [x]  운영부서 관리 스위치를 버튼으로 변경
- [x]  운영자 목록 직급 부서 코드가 아닌 이름으로 출력하는 작업
    - [x]  부서를 받아오기 위해서는 권한id가 필요함.
    - [x]  권한 아이디를 얻으면 부서목록을 출력한다.
    - [x]  부서 목록 중에 부서 아이디와 맞는것을 보여준다. ag-grid는 포커스 아웃이 될 경우에 페칭 되지 않으므로 그리드 내의 데이터를 받아와서 부서 정보를 불러오는 것은 불가능하다
        - [x]  컴포넌트 상단에서 권한 아이디와 부서 목록을 매치시켜서 해당하는 부서 목록을 받아올 수 있는 함수를 만든다.
        - [x]  함수를 columnDefs에서 돌릴 수 있도록 한다.
        - [x]  함수는 권한 아이디를 파라메타로 받는다.
- [x]  전자문서 관리 프로그램 코드리뷰
    - [x]  검색 조건을 선택하지 않으면 검색어를 입력해도 모든 데이터가 불려와  짐
    - [x]  검색결과가 초기화되지 않고 10개로 넘어 옴 ⇒ 목록에서 보여지는 수를 반영할 수 있어야 할 것으로 보임
    - [x]  띄워 쓰기
        - [x]  전자고지서 명
        - [x]  검색 결과
        - [x]  발송 구현
- [x]  해당 페이지에 조회 권한이 없는 사용자가 접근 할 경우 조회에 결과가 나오지 않는 것보다 
권한 없음 모달이나 페이지로 사용자에게 접근이 불가한 이유를 알려주는 것이 필요.
- [x]  중계사업자 `selector`를 선택해도 모든 전자고지서 목록이 보여지고 있음.
다른 조건들과 함께 선택하여도 구분 없이 검색결과가 나오는 것으로 보아 해당 조건 값이 정상적으로 쿼리로 전달되지 않는 것.
- [x]  열람페이지 종류를 선택하여 검색할 경우 다음과 같은 에러가 발생.
    
    ![Untitled](https://s3-us-west-2.amazonaws.com/secure.notion-static.com/7bac2610-052c-4b1d-8fc1-88acc327393a/Untitled.png)
    
- [x]  전자고지서 등록에서 다른 기본정보 입력 없이
중계사업자(카카오페이, 네이버, KT) 발송순서만을 등록한 후
안내문 정보에서 미리보기를 여는 과정에 문제가 있습니다.
    - [x]  카카오페이는 미리보기 버튼이 활성화 된 상태이지만 미리보기 모달이 오픈되지 않습니다.
    - [x]  네이버, KT는 미리보기 모달이 오픈됩니다.
- [x]  프로필 설정 코드 리뷰 내용 반영
- [x]  프로필 폴더 디렉토리 수정
- [x]  일괄 변경 요소
    
    ![Untitled](https://s3-us-west-2.amazonaws.com/secure.notion-static.com/22b0020d-4f56-4c9c-95ff-d2d9d69d484a/Untitled.png)
    
- [x]  검색결과 초기화 [743ca76](https://github.com/mobytec/mobyen_frontend/pull/89/commits/743ca7663b25095307246976bff3da7eef8b27e0) 참고해서 다른 프로그램들도 공통 적용
- [x]  모든 모달에 `initialRef`로 `useRef` 설정하기
- [x]  const { data: userTeams } = useUserRoleTeams({ userRoleId: 1 }); 작업
- [x]  프로필 수정 모달 페어 프로그래밍

# 이슈

---

- [x]  운영자 권한 관리
    - [x]  저장 버튼 에러 발생
- [x]  운영자 권한 관리 수정 안되는 이유 찾기
    - [x]  권한 유형 보여지도록
    - [x]  등록 및 수정 기능 에러 해결
    - [x]  운영자 권한 관리 > 운영부서 사용 권한 정보 > 세부 사항 사용 변경 출력 체크 값이 저장되지 않음
    - [x]  수정 전의 형태에서 페이로드에 다음과 같이 넘어가는 것을 확인

# 메모

---